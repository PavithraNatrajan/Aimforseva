<!--Project Name :AIM for Seva
Filename : Donor_Add.html*
Purpose /Functionality: A html file to add a new donor for the Organization
Author : Rajesh(id:T0002) -->


<ol class="breadcrumb">
   <li>
      <a ui-sref="home.dashboard">{{activeUrl[1]}}</a>
   </li>
   <li>
      <a ui-sref="home.AddDonor">{{activeUrl[2]}}</a>
   </li>
</ol>

<!-- Main content -->
<section class="content">
   <div class="row">
      <div class="col-sm-10">
         <div class="box">
            <div class="box box-primary">
               <div class="box-header">
                  <div class="bg-navy-active color-palette">
                     <br>
                     <h3 class="box-title">&nbsp;&nbsp;Add New Donor Details</h3>
                  </div>
                  <br>
                  <div class="row">
                     <div class="col-md-6" >
                        <label class="col-md-4 control-label">Donor Type</label>
                        <div class="col-md-7  inputGroupContainer">
                           <div class="input-group">
                              <span class="input-group-addon"><i class="glyphicon glyphicon-flag"></i></span>
                              <select name="donor_type" class="form-control" ng-model="regData.donor_type">
                                 <option value="Corporate">Corporate</option>
                                 <option value="Individual">Individual</option>
                              </select>
                           </div>
                        </div>
                     </div>
                     <input type="hidden" name="" ng-value="state_code">
                     <div class="col-md-6" >
                        <label class="col-md-4 control-label">Donor Id</label>
                        <div class="col-md-7  inputGroupContainer">
                           <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-flag"></i></span>
                              <input  name="donor_code" placeholder="Donor Id" class="form-control"   type="text"   ng-value="'D'+( donorMax.donor_id+1)"  ng-model="regData.donor_code" >
                           </div>
                        </div>
                     </div>
                  </div>
                  <br>
                  <div class="row">
                     <div class="col-md-6">
                        <label class="col-md-4 control-label">Organization Name</label>
                        <div class="col-md-7  inputGroupContainer">
                           <div class="input-group"> 
                              <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                              <input  id="capitalize" placeholder="Organization Name" ng-blur="capitalize"  class="form-control" type="text" ng-model="regData.organization_name"   ng-minlength="2" ng-maxlength="50" ng-pattern="/^\w+$/"  required=""  >
                           </div>
                        </div>
                     </div>
                     <div class="col-md-6">
                        <label class="col-md-4 control-label" >Active</label>
                        <div class="col-md-6  inputGroupContainer">
                           <div class="form-group">
                              <label>
                              <input type="radio" name="r3" value="Y" class="flat-red" ng-model="regData.active">
                              Yes
                              </label>
                              <label>
                              <input type="radio" name="r3" value="N" class="flat-red" ng-model="regData.active">
                              No
                              </label>
                           </div>
                        </div>
                     </div>
                  </div>
                  <br>
                  <button class="accordion">Personal Information</button>
                  <div class="panel">
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-4 control-label">First Name</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> 
                                 <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                 <input  type="text" ng-value="{{regData.first_name |capitalize}}" placeholder="First Name" ng-change="capitalize"  class="form-control"    ng-model="regData.first_name "  ng-minlength="2" ng-maxlength="50" ng-pattern="/^\w+$/"  required>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <label class="col-md-4 control-label" >Last Name</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> 
                                 <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                 <input name="last_name" placeholder="Last Name" class="form-control"  type="text" ng-model="regData.last_name" >
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-4 control-label" >Gender</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon">
                                    <li class="glyphicon glyphicon-flag"></li>
                                 </span>
                                 <select name="gender" class="form-control" ng-model="regData.gender">
                                    <option value="1">Male</option>
                                    <option value="0">Female</option>
                                 </select>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <label class="col-md-4 control-label" >DOB</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon">
                                    <li class="glyphicon glyphicon-flag"></li>
                                 </span>
                                 <input type="date" class="form-control"  ng-model="regData.dob"
                                    placeholder="yyyy-MM-dd"  required />
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-4 control-label" >Anniversary</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon">
                                    <li class="glyphicon glyphicon-flag"></li>
                                 </span>
                                 <!-- <input name="dob"  class="form-control"   type="date" ng-model="datevalue" > -->
                                 <input type="date" class="form-control"  ng-model="regData.anniversary"
                                    placeholder="yyyy-MM-dd"  required />
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                  </div>
                  <!-- dropdown  -->
                  <button class="accordion">Contact Information</button>
                  <div class="panel">
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-3 control-label">Mobile No.</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                 <input name="mobile" placeholder="Mobile No." class="form-control"  type="number" ng-model="regData.mobile_no"  maxlength="13" >
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <label class="col-md-3 control-label">LandLine No.</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> 
                                 <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
                                 <input  name="landline_no"  class="form-control"   type="text" ng-model="regData.landline_no"   ng-minlength="2" ng-maxlength="50" ng-pattern="/^\w+$/"  required>
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-3 control-label">Fax No.</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-flag"></i></span>
                                 <input name="fax_no" placeholder="Fax no" class="form-control" type="text" ng-model="regData.fax_no">
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <label class="col-md-3 control-label" >Email Id</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon">
                                    <li class="glyphicon glyphicon-send"></li>
                                 </span>
                                 <input type="email" name="email_id" ng-model="regData.email_id" class="form-control">
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-3 control-label" >Website</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon">
                                    <li class="glyphicon glyphicon-flag"></li>
                                 </span>
                                 <input type="text" name="website" class="form-control" ng-model="regData.website">
                              </div>
                           </div>
                        </div>
                     </div>
                     <!--dropdown -->
                     <br>
                  </div>
                  <button class="accordion">Address</button>
                  <div class="panel">
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-4 control-label">Address 1</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                                 <input name="address" placeholder="Address" class="form-control" type="text" ng-model="regData.address1">
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <label class="col-md-4 control-label">Address 2</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                                 <input name="address" placeholder="Address" class="form-control" type="text" ng-model="regData.address2">
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>  
                     <div class="row">
                        <div class="col-md-6" >
                           <label class="col-md-4 control-label">Address 3</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
                                 <input name="address3" placeholder="Address" class="form-control"  type="text" ng-model="regData.address3">
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6">
                           <label class="col-md-4 control-label">Country Name</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon"><i class="glyphicon glyphicon-flag"></i></span>
                                 <select ng-options="s.country for s in country" name="regData.country" class="form-control" ng-model="regData.selitemCountry" ng-change="getSelectCountry()">
                                    <option value="">--Select--</option>
                                 </select>
                              </div>
                              <input type="hidden" name="" ng-value="country_code">
                           </div>
                        </div>
                     </div>
                     <br>
                     <div class="row">
                        <div class="col-md-6 ">
                           <label class="col-md-4 control-label">State Name</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group">
                                 <span class="input-group-addon"><i class="glyphicon glyphicon-flag"></i></span>
                                 <select ng-options="s.state for s in stateName" name="regData.country" class="form-control" ng-model="regData.selitem1" ng-change="getStateShortName()">
                                    <option value="">--Select--</option>
                                 </select>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-6" >
                           <label class="col-md-4 control-label">City</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> <span class="input-group-addon"><i class="glyphicon glyphicon-flag"></i></span>
                                 <input  name="city" placeholder="City" class="form-control"   type="text" ng-model="regData.city"   ng-minlength="2" ng-maxlength="50" ng-pattern="/^\w+$/"  required>
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                     <div class="row">
                        <div class="col-md-6">
                           <label class="col-md-4 control-label">Postal Code</label>
                           <div class="col-md-7  inputGroupContainer">
                              <div class="input-group"> 
                                 <span class="input-group-addon"><i class="fa fa-inr"></i></span>
                                 <input type="number" name="postal_code" ng-model="regData.postal_code" class="form-control">
                              </div>
                           </div>
                        </div>
                     </div>
                     <br>
                  </div>
                  <!--dropdown -->
                  <br>
                  <div class="row">
                     <div class="col-md-6" >
                        <div class="col-md-6  inputGroupContainer"></div>
                        <div class="col-md-4  inputGroupContainer">
                           <button type="submit" class="btn btn-block btn-primary" ng-click="setDonor(regData)">Save</button>
                        </div>
                     </div>
                     <div class="col-md-2  inputGroupContainer">
                        <button type="submit" class="btn btn-block btn-primary" ng-click="reset()">Reset</button>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</section>
</div>
<div class="row">
   <div class="col-sm-10"  style="background-color: #d2e9f7">
      <div class="box box-primary">
         <div class="box-header">
            <div class="bg-navy-active color-palette">
               <br>
               <h3 class="box-title">&nbsp;&nbsp;Donors</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
               <form class="form-inline" >
                  <div class="form-group">
                     <label >Search</label>
                     <input type="text" ng-model="search" class="form-control" placeholder="Search">
                  </div>
               </form>
               <table class="table table-striped table-hover">
                  <thead>
                     <tr>
                        <th ng-click="sort('first_name')">Sl. No.
                           <span class="glyphicon sort-icon" ng-show="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('first_name')">Donor Name
                           <span class="glyphicon sort-icon" ng-show="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('last_name')">Donor Id
                           <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('last_name')">Donor Type
                           <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('last_name')">Email
                           <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('last_name')">Phone No
                           <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('last_name')">Edit
                           <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <!-- 
                           <th ng-click="sort('Active')">Active
                           <span class="glyphicon" ng-show="sortKey=='active'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                           </th> -->
                        <th ng-click="sort('first_name')">Update
                           <span class="glyphicon sort-icon" ng-show="sortKey=='first_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                        <th ng-click="sort('last_name')">Delete
                           <span class="glyphicon sort-icon" ng-show="sortKey=='last_name'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                        </th>
                     </tr>
                  </thead>
                  <tbody>
                     <tr dir-paginate="user in allDonor|orderBy:sortKey:reverse|filter:search|itemsPerPage:5">
                        <td>{{$index+1}}</td>
                        <td><input name="country"     class="form-control"         ng-model="user.first_name" ng-disabled="!enabledEdit[{{$index}}]"/></td>
                        <td><input name="country_short_name" class="form-control"   ng-model="user.donor_code" ng-disabled="!enabledEdit[{{$index}}]"/></td>
                        <td><input name="country_short_name" class="form-control"  ng-model="user.donor_type" ng-disabled="!enabledEdit[{{$index}}]"/></td>
                        <td><input name="country_short_name" class="form-control"  ng-model="user.email_id" ng-disabled="!enabledEdit[{{$index}}]"/></td>
                        <td><input name="country_short_name" class="form-control"  ng-model="user.mobile_no" ng-disabled="!enabledEdit[{{$index}}]"/></td>
                        <td><i class="glyphicon glyphicon-pencil" ng-click="editCountry($index)"></i></td>
                        <td><i class="glyphicon glyphicon-saved" ng-click="update(user)"   ></i></td>
                        <td><i class="glyphicon glyphicon-remove" ng-click="remove(user.donor_id)"></i></td>
                     </tr>
                  </tbody>
               </table>
               <dir-pagination-controls
                  max-size="5"
                  direction-links="true"
                  boundary-links="true" >
               </dir-pagination-controls>
            </div>
         </div>
      </div>
   </div>
</div>
</div>
</div>         
</section>
</div>

<script>
var acc = document.getElementsByClassName("accordion");
var i;
console.log(acc);
for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight){
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>